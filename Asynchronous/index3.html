<!DOCTYPE html>
<html lang="en">
  <body>
    <script>
      console.log("starts");

      async function main() {
        try {
          let age = 20;
          let result = await new Promise((resolve, reject) => {
            setTimeout(() => {
              if (age > 18) {
                resolve("Eligible for voting");
              } else {
                reject("Not eligible");
              }
            }, 2000);
          });
          console.log(result);
        } catch (error) {
          console.log(error);
        } finally {
          console.log("Promise is completed");
        }
      }

      main();

      console.log("end");
    </script>
  </body>
</html>
